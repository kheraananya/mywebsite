{% extends "base.html" %}
{% block title %} Edit Ticket {% endblock %}
{% block content %}


<form method='POST'>

 
        <br>

    <div class="original" style="float: left; margin-top: -18px;">

        <button onclick="javascript:history.back()" type="button" class="btn btn-secondary">&laquo; Back</button>

    </div>

    <div class="right" style="float: right; margin-top: -18px;">

        <button class="btn btn-info">Update</button>

    </div>

    <br>
    
    
    <div style="border: 1px solid grey; border-radius: 5px; background-color: #C9E5EF;">
        <div style="border : 1px solid grey ;color: white; border-radius: 5px; background-color: #003E7F; padding:10px">
            Main 
        </div>
        <div class="form-group" class="grid-container" style="background-color: rgb(235,235,235); display: grid;
        grid-template-columns: auto auto ; grid-gap: 30px; padding: 10px;">
            <div><label for="custname">Customer Name <span style="color: red">*</span></label>
                <input type="text" name="custname" value="{{ticket.custname}}"
                    class="form-control name_list" />

            </div>
            <div>
				<label for="region">Region<span style="color: red">*</span></label>
				<select name="region" id="region" class="form-control name_list" placeholder="Enter Region">
					<option value="NA">North America</option>
					<option value="EMEA">EMEA</option>
					<option value="APAC">APAC</option>
				</select>
			</div>
            <div>
                <label for="title">Requirement Title<span style="color: red">*</span></label>
                <input type="text" name="title" value = "{{ticket.title}}""
                    class="form-control name_list" />
            </div>
			<div>
				<label for="startdate">Approx Start Date:<span style="color: red">*</span></label>
				<br>
  				<input type="date" id="startdate" name="startdate" value="{{ticket.startdate}}">
			</div>
        </div>
    </div>
    <br>
    <div>
        <div style="border: 1px solid grey; border-radius: 5px; background-color: #C9E5EF;">
            <div
                style="border : 1px solid grey ;color: white; border-radius: 5px; background-color: #003E7F; padding:10px">
                Other Fields 
            </div>
            <div class="form-group" class="grid-container" style="background-color: rgb(235,235,235);display: grid;
            grid-template-columns: auto auto ; grid-gap: 30px; padding: 10px; ">
                <div>
                    {% for question in questions %}
                    {% for ticketquestionmap in ticketquestionmaps %}
                    {% if question.id == ticketquestionmap.question_id %}
                    <b><label for="q{{question.id}}">{{question.question}}</label></b>
                    <textarea type="text" id="q{{question.id}}" name="q{{question.id}}" class="form-control"
                        value="{{ticketquestionmap.value}}">{{ticketquestionmap.value}}</textarea>
                    <br>
                    {% endif %}
                    {% endfor %}
                    {% endfor %}
                </div>
                <div>
                    {% if user.usertype != "reporter" %}
                    {% for effort in efforts %}
                    {% for ticketeffortmap in ticketeffortmaps %}
                    {% if effort.id == ticketeffortmap.effort_id %}
                    <b><label for="e{{effort.id}}">{{effort.effort}}</label></b>
                    <textarea type="text" id="e{{effort.id}}" name="e{{effort.id}}" class="form-control"
                        value="{{ticketeffortmap.value}}">{{ticketeffortmap.value}}</textarea>
                    <br>
                    {% endif %}

                    {% endfor %}
                    {% endfor %}
                    {% endif %}
                </div>
            </div>
            <br>

        </div>
    </div>



    <br>

    </div>

    </div>
</form>
{% endblock %}